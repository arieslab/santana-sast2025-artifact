projectName,name,pathFile,productionFile,junitVersion,loc,qtdMethods,testSmellName,testSmellMethod,testSmellLineBegin,testSmellLineEnd,methodNameHash,methodNameFullHash,methodCode,methodCodeHash,FullHash
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Magic Number Test,testLeaseKey,74,74,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,,,
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Magic Number Test,testLeaseKey,79,79,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,,,
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Magic Number Test,testLeaseKey,87,87,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,,,
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Magic Number Test,testLeaseKey,124,124,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,,,
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Verbose Test,testLeaseKey,55-144,55-144,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"@TestpublicvoidtestLeaseKey()throwsException{try(EtcdClientclient=EtcdClient.forEndpoint(""localhost"",2392).withPlainText().build()|EtcdClientdirectClient=EtcdClient.forEndpoint(""localhost"",2379).withPlainText().build()){KvClientdirectKvClient=directClient.getKvClient()|ByteStringmykey=bs(""mykeyy"")|PersistentLeaseKeyplk=newPersistentLeaseKey(client,mykey,bs(""defaultdata""),null)|ListenableFuture<ByteString>startFuture=plk.startWithFuture()|Thread.sleep(300L)|//networkconntoservernotestablishedyetassertFalse(startFuture.isDone())|//keywon'texistyetassertEquals(0,directKvClient.get(mykey).countOnly().sync().getCount())|//reestablishnetworkproxy.start()|assertEquals(mykey,startFuture.get(4000,MILLISECONDS))|//checkkeyispresentviaotherclientassertEquals(bs(""defaultdata""),directKvClient.get(mykey).sync().getKvs(0).getValue())|plk.closeWithFuture().get(500,MILLISECONDS)|//keyshouldnowbegoneassertEquals(0,directKvClient.get(bs(""mykeyy"")).countOnly().sync().getCount())|//-----------------PersistentLeasepl=client.getLeaseClient().maintain().minTtl(2).start()|System.out.println(""PLstate:""+pl.getState())|plk=newPersistentLeaseKey(client,pl,mykey,bs(""somedata""),null)|plk.start()|assertFalse(pl.isDone())|LongleaseId=pl.get(1,TimeUnit.SECONDS)|assertNotNull(leaseId)|System.out.println(""PLstate:""+pl.getState())|//willtakeasmallamountoftimeafterleaseiscreatedforPLKtobe//created//assertFalse(plk.isDone())|plk.get(1,TimeUnit.SECONDS)|KeyValuekv=directKvClient.get(mykey).sync().getKvs(0)|assertEquals(bs(""somedata""),kv.getValue())|assertEquals((long)leaseId,kv.getLease())|plk.setDefaultValue(bs(""updateddata""))|Thread.sleep(200L)|//datadoesn'tchangeuntilkeyhastoberecreatedassertEquals(bs(""somedata""),directKvClient.get(mykey).sync().getKvs(0).getValue())|proxy.kill()|longttl=pl.getCurrentTtlSecs()|System.out.println(""TTLafterkillis""+ttl)|Thread.sleep(1000L)|//keyshouldstillbethere(leasenotyetexpired)kv=directKvClient.get(mykey).sync().getKvs(0)|assertEquals(bs(""somedata""),kv.getValue())|assertEquals((long)leaseId,kv.getLease())|Thread.sleep((pl.getCurrentTtlSecs()+2)*1000L)|//leaseshouldhavenowexpiredandkeyshouldbegoneassertEquals(0,directKvClient.get(bs(""mykeyy"")).sync().getCount())|proxy.start()|longbefore=System.nanoTime()|try(WatchIteratorit=directKvClient.watch(bs(""mykeyy"")).start()){for(inti=0|i<5|i++){List<Event>events=it.next().getEvents()|if(!events.isEmpty()){//keyshouldbeupdatedwithnewvalueonce//connectionisreestablishedassertEquals(bs(""updateddata""),events.get(0).getKv().getValue())|System.out.println(""took""+(System.nanoTime()-before)/1000_000L+""msforkeytore-appear"")|break|}}}}//Thread.sleep(3000)|}",f9fc7479bd766b59ae716d4f4d634470,2f8b9a2091dd3a28591b1a1d11d59f83
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Sleepy Test,testLeaseKey,69-69,69-69,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,Thread.sleep(300L)|,e5f50c66c6360f8d7f0267fe6dd0fd4d,16df00f5079f7a2719446414d65a385c
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Sleepy Test,testLeaseKey,108-108,108-108,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,Thread.sleep(200L)|,ad08751fbf08ef46ed20a090d7e53da2,dd130052f15866cb52dd023156461d8d
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Sleepy Test,testLeaseKey,116-116,116-116,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,Thread.sleep(1000L)|,e9cca139e7b90513de893f5422837287,223818c79d982fb5feb29eddea6827a8
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Sleepy Test,testLeaseKey,122-122,122-122,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,Thread.sleep((pl.getCurrentTtlSecs()+2)*1000L)|,0db9c0df5eaa5b4f775542d2e482ea02,16afe331a974046c31cdc9affbbc0235
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Duplicate Assert,testLeaseKey,"105, 119","105, 119",2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"assertEquals(bs(""somedata""),kv.getValue())|assertEquals(bs(""somedata""),kv.getValue())|",80367c2d8736329fe8d1376c26c40d71,98c004a057919fee3082132070eb04f2
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Duplicate Assert,testLeaseKey,"106, 120","106, 120",2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"assertEquals((long)leaseId,kv.getLease())|assertEquals((long)leaseId,kv.getLease())|",f263c65db354eb28ad400486064c4df2,e802d13c393404f81a952e87f4b534b3
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Eager Test,testLeaseKey,"103, 107, 126, 128, 65, 67, 77, 84, 91, 94, 95","103, 107, 126, 128, 65, 67, 77, 84, 91, 94, 95",2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"plk.get(1,TimeUnit.SECONDS)|plk.setDefaultValue(bs(""updateddata""))|proxy.start()|try(WatchIteratorit=directKvClient.watch(bs(""mykeyy"")).start()){PersistentLeaseKeyplk=newPersistentLeaseKey(client,mykey,bs(""defaultdata""),null)|ListenableFuture<ByteString>startFuture=plk.startWithFuture()|proxy.start()|plk.closeWithFuture().get(500,MILLISECONDS)|PersistentLeasepl=client.getLeaseClient().maintain()plk=newPersistentLeaseKey(client,pl,mykey,bs(""somedata""),null)|plk.start()|",cfeea40919c5ec39dc029a72e30d8bae,b9ff81bc806f964f432c6e367a09df94
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Assertion Roulette,testLeaseKey,71-71,71-71,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,assertFalse(startFuture.isDone())|,ac4f59771e23ca7986aecdc8c26df764,43ea23006dc6f637201fa7f8591a0880
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Assertion Roulette,testLeaseKey,74-74,74-74,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"assertEquals(0,directKvClient.get(mykey).countOnly().sync().getCount())|",c1b6b9230c93838ea7fe2431667ab4d4,ab0bbe06153694c2bc5279fc20562883
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Assertion Roulette,testLeaseKey,79-79,79-79,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"assertEquals(mykey,startFuture.get(4000,MILLISECONDS))|",9d34e1c3d238f8987ba56fa30b4c38bc,067c8670bede537501d8426b282468c9
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Assertion Roulette,testLeaseKey,82-82,82-82,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"assertEquals(bs(""defaultdata""),directKvClient.get(mykey).sync().getKvs(0).getValue())|",ef53b7b1af94d2078228e873678e9af2,97eb9f46fb5b0c03917448cd655fa60e
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Assertion Roulette,testLeaseKey,87-87,87-87,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"assertEquals(0,directKvClient.get(bs(""mykeyy"")).countOnly().sync().getCount())|",ad00ea1c89ac3e89e1f62690424e2179,16ffb620d4372217c607d10905e81085
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Assertion Roulette,testLeaseKey,96-96,96-96,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,assertFalse(pl.isDone())|,92a73097b14b2ea9456ed927d1e06b28,00d2efcfe3ff70bf94e4ed47a6a6759c
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Assertion Roulette,testLeaseKey,98-98,98-98,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,assertNotNull(leaseId)|,1643ca47f5d7868f65375d8f35ed2e98,2251ccfc3932e8287263c16c8d57fced
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Assertion Roulette,testLeaseKey,105-105,105-105,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"assertEquals(bs(""somedata""),kv.getValue())|",e433ee5c8c5c101b4ae121b45e8dd8b1,48390b497147535b0f193b4dc71acf27
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Assertion Roulette,testLeaseKey,106-106,106-106,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"assertEquals((long)leaseId,kv.getLease())|",1f0ea04351694bb49c3cd64b5cbe64db,5186ae50006f5825b641e3ed00e2df6c
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Assertion Roulette,testLeaseKey,110-111,110-111,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"assertEquals(bs(""somedata""),directKvClient.get(mykey).sync().getKvs(0).getValue())|",a359bbb5d01372f03686911e239bbf2c,21feb1de7156d5d0734368d1ef6e9608
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Assertion Roulette,testLeaseKey,119-119,119-119,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"assertEquals(bs(""somedata""),kv.getValue())|",e433ee5c8c5c101b4ae121b45e8dd8b1,48390b497147535b0f193b4dc71acf27
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Assertion Roulette,testLeaseKey,120-120,120-120,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"assertEquals((long)leaseId,kv.getLease())|",1f0ea04351694bb49c3cd64b5cbe64db,5186ae50006f5825b641e3ed00e2df6c
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Assertion Roulette,testLeaseKey,124-124,124-124,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"assertEquals(0,directKvClient.get(bs(""mykeyy"")).sync().getCount())|",77fd1ce276332eeae5fc778822e4c38e,de854eb0f2c02089152739450156cd44
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Assertion Roulette,testLeaseKey,134-134,134-134,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"assertEquals(bs(""updateddata""),events.get(0).getKv().getValue())|",d62ddb48ad08e749f646499464ef3ab2,4ee0df6812262184432e292f0f84d500
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Conditional Test Logic,testLeaseKey,131-138,131-138,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"if(!events.isEmpty()){//keyshouldbeupdatedwithnewvalueonce//connectionisreestablishedassertEquals(bs(""updateddata""),events.get(0).getKv().getValue())|System.out.println(""took""+(System.nanoTime()-before)/1000_000L+""msforkeytore-appear"")|break|}",1ab5b74d257285d8b30fbaa59ecfd8cd,4207eb6565195df6cd58b5a21d1a488c
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Conditional Test Logic,testLeaseKey,129-139,129-139,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"for(inti=0|i<5|i++){List<Event>events=it.next().getEvents()|if(!events.isEmpty()){//keyshouldbeupdatedwithnewvalueonce//connectionisreestablishedassertEquals(bs(""updateddata""),events.get(0).getKv().getValue())|System.out.println(""took""+(System.nanoTime()-before)/1000_000L+""msforkeytore-appear"")|break|}}",4b69a736725d1c423d579781c909cfd0,dc77ca092533e4a940927ccd374ac623
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Exception Catching Throwing,testLeaseKey,58-142,58-142,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,"try(EtcdClientclient=EtcdClient.forEndpoint(""localhost"",2392).withPlainText().build()|EtcdClientdirectClient=EtcdClient.forEndpoint(""localhost"",2379).withPlainText().build()){KvClientdirectKvClient=directClient.getKvClient()|ByteStringmykey=bs(""mykeyy"")|PersistentLeaseKeyplk=newPersistentLeaseKey(client,mykey,bs(""defaultdata""),null)|ListenableFuture<ByteString>startFuture=plk.startWithFuture()|Thread.sleep(300L)|//networkconntoservernotestablishedyetassertFalse(startFuture.isDone())|//keywon'texistyetassertEquals(0,directKvClient.get(mykey).countOnly().sync().getCount())|//reestablishnetworkproxy.start()|assertEquals(mykey,startFuture.get(4000,MILLISECONDS))|//checkkeyispresentviaotherclientassertEquals(bs(""defaultdata""),directKvClient.get(mykey).sync().getKvs(0).getValue())|plk.closeWithFuture().get(500,MILLISECONDS)|//keyshouldnowbegoneassertEquals(0,directKvClient.get(bs(""mykeyy"")).countOnly().sync().getCount())|//-----------------PersistentLeasepl=client.getLeaseClient().maintain().minTtl(2).start()|System.out.println(""PLstate:""+pl.getState())|plk=newPersistentLeaseKey(client,pl,mykey,bs(""somedata""),null)|plk.start()|assertFalse(pl.isDone())|LongleaseId=pl.get(1,TimeUnit.SECONDS)|assertNotNull(leaseId)|System.out.println(""PLstate:""+pl.getState())|//willtakeasmallamountoftimeafterleaseiscreatedforPLKtobe//created//assertFalse(plk.isDone())|plk.get(1,TimeUnit.SECONDS)|KeyValuekv=directKvClient.get(mykey).sync().getKvs(0)|assertEquals(bs(""somedata""),kv.getValue())|assertEquals((long)leaseId,kv.getLease())|plk.setDefaultValue(bs(""updateddata""))|Thread.sleep(200L)|//datadoesn'tchangeuntilkeyhastoberecreatedassertEquals(bs(""somedata""),directKvClient.get(mykey).sync().getKvs(0).getValue())|proxy.kill()|longttl=pl.getCurrentTtlSecs()|System.out.println(""TTLafterkillis""+ttl)|Thread.sleep(1000L)|//keyshouldstillbethere(leasenotyetexpired)kv=directKvClient.get(mykey).sync().getKvs(0)|assertEquals(bs(""somedata""),kv.getValue())|assertEquals((long)leaseId,kv.getLease())|Thread.sleep((pl.getCurrentTtlSecs()+2)*1000L)|//leaseshouldhavenowexpiredandkeyshouldbegoneassertEquals(0,directKvClient.get(bs(""mykeyy"")).sync().getCount())|proxy.start()|longbefore=System.nanoTime()|try(WatchIteratorit=directKvClient.watch(bs(""mykeyy"")).start()){for(inti=0|i<5|i++){List<Event>events=it.next().getEvents()|if(!events.isEmpty()){//keyshouldbeupdatedwithnewvalueonce//connectionisreestablishedassertEquals(bs(""updateddata""),events.get(0).getKv().getValue())|System.out.println(""took""+(System.nanoTime()-before)/1000_000L+""msforkeytore-appear"")|break|}}}}",185fccf64b7b81547159deb3591b8c66,ab210bc3c646ed5b90c95267765c7095
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Print Statement,testLeaseKey,93,93,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,,,
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Print Statement,testLeaseKey,99,99,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,,,
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Print Statement,testLeaseKey,115,115,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,,,
etcd-java,PersistentLeaseKeyTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/PersistentLeaseKeyTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/PersistentLeaseKey.java,JUnit4,146,4,Print Statement,testLeaseKey,135,135,2b1a06900d745695b81f665cbeacdd92,9102eccfe2828756f942662a818bbb02,,,
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Unknown Test,testCompaction,150-172,150-172,6734655e9923cdd81458dedd99b218a2,32faf103400344a1dedac6a1a1f4e762,"@TestpublicvoidtestCompaction()throwsException{KvClientkvc=client.getKvClient()|Threadnoise=newThread(()->{ByteStringn=bs(""/tmp/noise-"")|ByteStringk=n.concat(bs(""0""))|for(inti=0|i<1000|i++){kvc.delete(k).sync()|k=n.concat(bs(""""+i))|PutResponsepr=kvc.put(k,n).sync()|if(i==500){kvc.compact(pr.getHeader().getRevision(),false)|}}})|try(RangeCacherc=newRangeCache(client,bs(""tmp/""),false)){rc.start().get(1L,TimeUnit.SECONDS)|noise.start()|noise.join()|}}",757f180bf97ec32ebbae853c02f7718a,527d7cd1e5bc42577c459ce8f09acea8
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,IgnoredTest,testOfflineCompact,354-397,354-397,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,"privatestaticvoidtestOfflineCompact(KvClientdirectKv,RangeCacherc,LocalNettyProxyprox)throwsException{inti|directKv.delete(bs(""tmp2/aftercompact"")).sync()|directKv.put(bs(""tmp2/abc-0""),bs(""def"")).sync()|directKv.delete(bs(""tmp2/abc-1"")).rangeEnd(bs(""tmp2/abc-9"")).sync()|Thread.sleep(300L)|//ensurecachecatchesupassertTrue(rc.keyExists(bs(""tmp2/abc-0"")))|prox.kill()|Thread.sleep(500L)|directKv.delete(bs(""tmp2/abc-0"")).sync()|for(i=1|i<8|i++){directKv.put(bs(""tmp2/abc-""+i),bs(""def"")).sync()|}longrev=directKv.put(bs(""tmp2/abc-8""),bs(""def"")).sync().getHeader().getRevision()|directKv.put(bs(""tmp2/abc-9""),bs(""def"")).sync()|directKv.compact(rev,true).get()|Thread.sleep(500L)|//cachewon'thaveseenthedeletionyetassertTrue(rc.keyExists(bs(""tmp2/abc-0"")))|System.out.println(""startingaftercompaction"")|prox.start()|//waitforcachetoberefreshedfor(i=1|i<=20|i++){Thread.sleep(1000L)|KeyValuekv1=rc.get(bs(""tmp2/abc-7""))|KeyValuekv2=rc.get(bs(""tmp2/abc-8""))|KeyValuekv3=rc.get(bs(""tmp2/abc-9""))|booleanexists=rc.keyExists(bs(""tmp2/abc-0""))|if(kv1==null||kv2==null||kv3==null||exists){if(i==20){fail(""Cachedidnotcatchup"")|}continue|}assertEquals(bs(""def""),kv1.getValue())|assertEquals(bs(""def""),kv2.getValue())|assertEquals(bs(""def""),kv3.getValue())|break|}directKv.put(bs(""tmp2/aftercompact""),bs(""val2"")).sync()|Thread.sleep(100L)|assertEquals(bs(""val2""),rc.get(bs(""tmp2/aftercompact"")).getValue())|}",9f8283a79c9d45a745dc7b9d26962ade,08931eb2287d372179443f6713a58b57
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Magic Number Test,testStrongIterator,99,99,b2c3fb411178be7cd426693e192e9bc0,4f17596a237d92ce2a0fec4701059d70,,,
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Magic Number Test,testStrongIterator,101,101,b2c3fb411178be7cd426693e192e9bc0,4f17596a237d92ce2a0fec4701059d70,,,
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Magic Number Test,testStrongIterator,109,109,b2c3fb411178be7cd426693e192e9bc0,4f17596a237d92ce2a0fec4701059d70,,,
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Magic Number Test,testStrongIterator,111,111,b2c3fb411178be7cd426693e192e9bc0,4f17596a237d92ce2a0fec4701059d70,,,
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Magic Number Test,testBasics,199,199,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,,,
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Magic Number Test,testSizeStability,346,346,da51f59a0818ef1789d590a8ab4d0e3c,d54aaf1faa3f14e16b049de7cc09cf9d,,,
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Magic Number Test,testSizeStability,348,348,da51f59a0818ef1789d590a8ab4d0e3c,d54aaf1faa3f14e16b049de7cc09cf9d,,,
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Magic Number Test,testSizeStability,350,350,da51f59a0818ef1789d590a8ab4d0e3c,d54aaf1faa3f14e16b049de7cc09cf9d,,,
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Verbose Test,testStrongIterator,84-116,84-116,b2c3fb411178be7cd426693e192e9bc0,4f17596a237d92ce2a0fec4701059d70,"@TestpublicvoidtestStrongIterator()throwsException{KvClientkvc=directClient.getKvClient()|kvc.delete(bs(""sit-test/"")).asPrefix().sync()|kvc.delete(bs(""sit-test"")).sync()|kvc.put(bs(""sit-test/a""),bs(""val"")).sync()|kvc.put(bs(""sit-test/d""),bs(""val"")).sync()|try(RangeCacherc=newRangeCache(directClient,bs(""sit-test/""),false)){//NOTEfirstRangeCachehasNOTbeenstartedassertEquals(0,Iterators.size(rc.iterator()))|assertEquals(2,Iterators.size(rc.strongIterator()))|//assertEquals(2,Iterators.size(rc.iterator()))|try(RangeCacherc2=newRangeCache(directClient,bs(""sit-test/""),false)){rc2.delete(bs(""sit-test/d""))|assertEquals(0,Iterators.size(rc.iterator()))|assertEquals(1,Iterators.size(rc.strongIterator()))|//assertEquals(1,Iterators.size(rc.iterator()))|}}}",afeb54344bf66c427a31322c774ac64d,105a1a07d00001ffcacdfac10fb2e268
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Verbose Test,testBasics,174-225,174-225,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,"@TestpublicvoidtestBasics()throwsException{KvClientkvc=client.getKvClient()|kvc.delete(bs(""tmp/"")).asPrefix().sync()|try(RangeCacherc=newRangeCache(client,bs(""tmp/""),false)){PutResultpr=rc.put(bs(""tmp/a""),bs(""val1""),0L)|assertTrue(pr.succ())|assertEquals(bs(""val1""),pr.kv().getValue())|rc.start().get(1L,TimeUnit.SECONDS)|assertTrue(rc.delete(bs(""tmp/a"")))|assertFalse(rc.delete(bs(""tmp/c"")))|assertTrue(rc.put(bs(""tmp/a""),bs(""val1""),0L).succ())|assertEquals(bs(""val1""),rc.get(bs(""tmp/a"")).getValue())|assertEquals(bs(""val1""),rc.getRemote(bs(""tmp/a"")).getValue())|assertEquals(1,Iterators.size(rc.iterator()))|Iterator<KeyValue>it=rc.iterator(),sit=rc.strongIterator()|assertTrue(Iterators.elementsEqual(it,sit))|KvClientdirectKv=directClient.getKvClient()|directKv.put(bs(""tmp/d""),bs(""val2"")).sync()|Thread.sleep(80L)|assertEquals(bs(""val2""),rc.get(bs(""tmp/d"")).getValue())|directKv.put(bs(""tmp/d""),bs(""valX"")).sync()|Thread.sleep(80L)|assertEquals(bs(""valX""),rc.get(bs(""tmp/d"")).getValue())|directKv.delete(bs(""tmp/d"")).sync()|Thread.sleep(80L)|assertNull(rc.get(bs(""tmp/d"")))|}}",2b7dc0ab6312d2e9c608e5ec364eb570,cc0d506e6e713704ccb6064b89d17048
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Verbose Test,testResiliency,227-335,227-335,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,"@TestpublicvoidtestResiliency()throwsException{directClient.getKvClient().delete(bs(""tmp2/"")).asPrefix().sync()|try(EtcdClientrcClient=EtcdClient.forEndpoint(""localhost"",2395).withPlainText().build()|RangeCacherc=newRangeCache(rcClient,bs(""tmp2/""),false)){try{//thiswon'tfinishstartingbecauseit'snotconnectedrc.start().get(500,TimeUnit.MILLISECONDS)|}catch(TimeoutExceptionte){//ok}Map<ByteString,ByteString>localMap=newHashMap<>()|try(finalLocalNettyProxyprox=newLocalNettyProxy(2395)){ThreadproxyThread=newThread(){{setDaemon(true)|}@Overridepublicvoidrun(){try{intN=6|for(inti=1|i<=N|i++){prox.start()|Thread.sleep(1000L+(long)(Math.random()*5000))|if(i<N){System.out.println(""killingproxy""+i)|prox.kill()|//finishinrunningstate}Thread.sleep((long)(Math.random()*4000))|}}catch(Exceptione){e.printStackTrace()|}}}|proxyThread.start()|KvClientdirectKv=directClient.getKvClient()|inti=0|//performabunchofdirectupdatestoetcdwhile//theproxyisstopped/startedwhile(proxyThread.isAlive()){//putakeyByteStringkey=bs(""tmp2/""+Math.random())|ByteStringvalue=bs(""value""+(i++))|directKv.put(key,value).sync()|localMap.put(key,value)|if(i>5&&!localMap.isEmpty()){//deleteakeyThread.sleep((long)(Math.random()*100))|ByteStringrandomKey=Iterables.get(localMap.keySet(),(int)(Math.random()*localMap.size()))|directKv.delete(randomKey).sync()|localMap.remove(randomKey)|Thread.sleep((long)(Math.random()*100))|}if(i>3){//performbatchupdate(3puts,1delete)FluentTxnOps<?>batch=directKv.batch()|if(!localMap.isEmpty()){ByteStringrandomKey=Iterables.get(localMap.keySet(),(int)(Math.random()*localMap.size()))|batch.delete(directKv.delete(randomKey).asRequest())|localMap.remove(randomKey)|}for(intj=0|j<3|j++){key=bs(""tmp2/""+Math.random())|value=bs(""value""+(i++))|batch.put(directKv.put(key,value).asRequest())|localMap.put(key,value)|}batch.sync()|//commitbatchtxnThread.sleep((long)(Math.random()*100))|}}intls=localMap.size(),rs=(int)directKv.get(bs(""tmp2/"")).asPrefix().countOnly().sync().getCount()|System.out.println(""localmapsizeis""+localMap.size())|System.out.println(""remotesizeis""+rs)|assertEquals(ls,rs)|//waituntilconnectedandtocatchuprcClient.getKvClient().get(bs(""tmp2/"")).deadline(Deadline.after(20,TimeUnit.SECONDS)).backoffRetry().sync()|Thread.sleep(6_000L)|System.out.println(""rcsizeis""+rc.size())|assertEquals(localMap.size(),rc.size())|//checkcontentsofcache==contentsoflocalmapassertEquals(localMap.entrySet(),Sets.newHashSet(Iterables.transform(rc,kv->Maps.immutableEntry(kv.getKey(),kv.getValue()))))|testOfflineCompact(directKv,rc,prox)|//TestcompactrecoverytwicetestOfflineCompact(directKv,rc,prox)|}}}",e23f97f20cc6cd480fb4a6f993c08240,6928197b378b8e439f436dbd338abc23
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Verbose Test,testOfflineCompact,354-397,354-397,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,"privatestaticvoidtestOfflineCompact(KvClientdirectKv,RangeCacherc,LocalNettyProxyprox)throwsException{inti|directKv.delete(bs(""tmp2/aftercompact"")).sync()|directKv.put(bs(""tmp2/abc-0""),bs(""def"")).sync()|directKv.delete(bs(""tmp2/abc-1"")).rangeEnd(bs(""tmp2/abc-9"")).sync()|Thread.sleep(300L)|//ensurecachecatchesupassertTrue(rc.keyExists(bs(""tmp2/abc-0"")))|prox.kill()|Thread.sleep(500L)|directKv.delete(bs(""tmp2/abc-0"")).sync()|for(i=1|i<8|i++){directKv.put(bs(""tmp2/abc-""+i),bs(""def"")).sync()|}longrev=directKv.put(bs(""tmp2/abc-8""),bs(""def"")).sync().getHeader().getRevision()|directKv.put(bs(""tmp2/abc-9""),bs(""def"")).sync()|directKv.compact(rev,true).get()|Thread.sleep(500L)|//cachewon'thaveseenthedeletionyetassertTrue(rc.keyExists(bs(""tmp2/abc-0"")))|System.out.println(""startingaftercompaction"")|prox.start()|//waitforcachetoberefreshedfor(i=1|i<=20|i++){Thread.sleep(1000L)|KeyValuekv1=rc.get(bs(""tmp2/abc-7""))|KeyValuekv2=rc.get(bs(""tmp2/abc-8""))|KeyValuekv3=rc.get(bs(""tmp2/abc-9""))|booleanexists=rc.keyExists(bs(""tmp2/abc-0""))|if(kv1==null||kv2==null||kv3==null||exists){if(i==20){fail(""Cachedidnotcatchup"")|}continue|}assertEquals(bs(""def""),kv1.getValue())|assertEquals(bs(""def""),kv2.getValue())|assertEquals(bs(""def""),kv3.getValue())|break|}directKv.put(bs(""tmp2/aftercompact""),bs(""val2"")).sync()|Thread.sleep(100L)|assertEquals(bs(""val2""),rc.get(bs(""tmp2/aftercompact"")).getValue())|}",9f8283a79c9d45a745dc7b9d26962ade,08931eb2287d372179443f6713a58b57
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Sleepy Test,testBasics,209-209,209-209,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,Thread.sleep(80L)|,2369789a730174e348e2bb688bda97d6,b19b8cc71c15365a30896f1ddfc8b02f
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Sleepy Test,testBasics,215-215,215-215,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,Thread.sleep(80L)|,2369789a730174e348e2bb688bda97d6,b19b8cc71c15365a30896f1ddfc8b02f
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Sleepy Test,testBasics,221-221,221-221,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,Thread.sleep(80L)|,2369789a730174e348e2bb688bda97d6,b19b8cc71c15365a30896f1ddfc8b02f
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Sleepy Test,testResiliency,281-281,281-281,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,Thread.sleep((long)(Math.random()*100))|,98647d887e09b48eb3313de564619065,55a29172aebe8e4261139bfce083c12b
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Sleepy Test,testResiliency,286-286,286-286,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,Thread.sleep((long)(Math.random()*100))|,98647d887e09b48eb3313de564619065,55a29172aebe8e4261139bfce083c12b
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Sleepy Test,testResiliency,304-304,304-304,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,Thread.sleep((long)(Math.random()*100))|,98647d887e09b48eb3313de564619065,55a29172aebe8e4261139bfce083c12b
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Sleepy Test,testResiliency,320-320,320-320,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,Thread.sleep(6_000L)|,b359c17158798f2ada4acbe8cf584aa5,e4076183a2a43a636d5bc0b81de9e05e
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Sleepy Test,testOfflineCompact,359-359,359-359,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,Thread.sleep(300L)|//ensurecachecatchesup,c7cebeb46e2d110687fe467879d633c0,3a1f8134e0122a41aaa7476debc536fb
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Sleepy Test,testOfflineCompact,362-362,362-362,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,Thread.sleep(500L)|,58aa087043e2fe58105599fcdd6a5b90,c734ed2cc2c2bdc0f93b80bc02b3b374
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Sleepy Test,testOfflineCompact,370-370,370-370,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,Thread.sleep(500L)|,58aa087043e2fe58105599fcdd6a5b90,c734ed2cc2c2bdc0f93b80bc02b3b374
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Sleepy Test,testOfflineCompact,377-377,377-377,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,Thread.sleep(1000L)|,e9cca139e7b90513de893f5422837287,91866e153bd5337ee48b1cbac0e737c9
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Sleepy Test,testOfflineCompact,395-395,395-395,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,Thread.sleep(100L)|,480571b848f35706b9aa00e2fb816833,430ac629cfc2f089ebb60a3f6ef6aaaa
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Lazy Test,"testOfflineCompact, testSizeStability, testResiliency, testBasics, testCompaction","374, 343, 266, 238, 187, 169, 168","374, 343, 266, 238, 187, 169, 168",a743d79a36bfa4728b91abae2b5be3a0,4cf2e0bb5658a77e38755e3fa031b58a,"prox.start()|rc.start().get()|proxyThread.start()|rc.start().get(500,TimeUnit.MILLISECONDS)|rc.start().get(1L,TimeUnit.SECONDS)|noise.start()|rc.start().get(1L,TimeUnit.SECONDS)|",a95648e5a74ee203dc0fff00c43c3cd0,531eaaaa22fea6bd33523f10f272ca66
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Lazy Test,"testSizeStability, testResiliency, testBasics, testCompaction, testOrdering, testStrongIterator","342, 234, 181, 167, 124, 105, 95","342, 234, 181, 167, 124, 105, 95",0c3166ddddb80bb6d886090bb0db216d,e96dce8eb268fe0ab3c13f5fffd02b95,"try(RangeCacherc=newRangeCache(directClient,bs(""tmp3/""),false)){RangeCacherc=newRangeCache(rcClient,bs(""tmp2/""),false)){try(RangeCacherc=newRangeCache(client,bs(""tmp/""),false)){try(RangeCacherc=newRangeCache(client,bs(""tmp/""),false)){try(RangeCacherc=newRangeCache(client,px,true)){try(RangeCacherc2=newRangeCache(directClient,bs(""sit-test/""),false)){try(RangeCacherc=newRangeCache(directClient,bs(""sit-test/""),false)){",32d084048ff343fac54836a00fb54894,979a73b66a39376519ad1ef670d1d8c2
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Lazy Test,"testOfflineCompact, testSizeStability, testResiliency, testBasics, testCompaction, testOrdering, testStrongIterator","363, 358, 356, 340, 294, 284, 230, 219, 191, 189, 179, 158, 122, 107, 90, 89","363, 358, 356, 340, 294, 284, 230, 219, 191, 189, 179, 158, 122, 107, 90, 89",67e53248778a3c5cffcc468782a802c7,613f0d2f0c81b99733e34df107e4a0ca,"directKv.delete(bs(""tmp2/abc-0"")).sync()|directKv.delete(bs(""tmp2/abc-1"")).rangeEnd(bs(""tmp2/abc-9"")).sync()|directKv.delete(bs(""tmp2/aftercompact"")).sync()|directClient.getKvClient().delete(bs(""tmp3/"")).asPrefix().sync()|batch.delete(directKv.delete(randomKey).asRequest())|directKv.delete(randomKey).sync()|directClient.getKvClient().delete(bs(""tmp2/"")).asPrefix().sync()|directKv.delete(bs(""tmp/d"")).sync()|assertFalse(rc.delete(bs(""tmp/c"")))|assertTrue(rc.delete(bs(""tmp/a"")))|kvc.delete(bs(""tmp/"")).asPrefix().sync()|kvc.delete(k).sync()|kvc.delete(px).asPrefix().sync()|rc2.delete(bs(""sit-test/d""))|kvc.delete(bs(""sit-test"")).sync()|kvc.delete(bs(""sit-test/"")).asPrefix().sync()|",ebc02ecfbcde0d0daf091827547803ca,6f300da51f79cb8d62fb6801e4f9eac7
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Lazy Test,"testOfflineCompact, testSizeStability, testResiliency, testBasics, testCompaction, testOrdering, testStrongIterator","394, 368, 367, 365, 357, 349, 345, 344, 301, 300, 278, 277, 213, 207, 193, 183, 160, 131, 130, 129, 128, 127, 126, 125, 93, 92","394, 368, 367, 365, 357, 349, 345, 344, 301, 300, 278, 277, 213, 207, 193, 183, 160, 131, 130, 129, 128, 127, 126, 125, 93, 92",67e53248778a3c5cffcc468782a802c7,613f0d2f0c81b99733e34df107e4a0ca,"directKv.put(bs(""tmp2/aftercompact""),bs(""val2"")).sync()|directKv.put(bs(""tmp2/abc-9""),bs(""def"")).sync()|longrev=directKv.put(bs(""tmp2/abc-8""),bs(""def"")).sync().getHeader().getRevision()|directKv.put(bs(""tmp2/abc-""+i),bs(""def"")).sync()|directKv.put(bs(""tmp2/abc-0""),bs(""def"")).sync()|rc.put(bs(""tmp3/key3""),bs(""val3""))|rc.put(bs(""tmp3/key2""),bs(""val2""))|rc.put(bs(""tmp3/key1""),bs(""val1""))|localMap.put(key,value)|batch.put(directKv.put(key,value).asRequest())|localMap.put(key,value)|directKv.put(key,value).sync()|directKv.put(bs(""tmp/d""),bs(""valX"")).sync()|directKv.put(bs(""tmp/d""),bs(""val2"")).sync()|assertTrue(rc.put(bs(""tmp/a""),bs(""val1""),0L).succ())|PutResultpr=rc.put(bs(""tmp/a""),bs(""val1""),0L)|PutResponsepr=kvc.put(k,n).sync()|rc.put(px.concat(plusOne(fromHexString(""01""))),val)|rc.put(px.concat(fromHexString(""0101ab"")),val)|rc.put(px.concat(fromHexString(""00ff"")),val)|rc.put(px.concat(fromHexString(""0100"")),val)|rc.put(px.concat(fromHexString(""01"")),val)|rc.put(px.concat(fromHexString(""02"")),val)|rc.put(px.concat(fromHexString(""ff"")),val)|kvc.put(bs(""sit-test/d""),bs(""val"")).sync()|kvc.put(bs(""sit-test/a""),bs(""val"")).sync()|",d2bb0da50b1f4b6b74b0e9e813fdc1f0,cd4712b9af7a558b27481f12e755af60
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Lazy Test,"testBasics, testStrongIterator","201, 199, 109, 99","201, 199, 109, 99",b47b32555295e4733935473cf702534a,e49dd6d41c668a1b91b87ab4ceb5ecad,"Iterator<KeyValue>it=rc.iterator(),sit=rc.strongIterator()|assertEquals(1,Iterators.size(rc.iterator()))|assertEquals(0,Iterators.size(rc.iterator()))|assertEquals(0,Iterators.size(rc.iterator()))|",d4e9d0e50d608f99da29205e0de018b7,6ea48c262f665ac76c1ca3cbb8ddf603
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Lazy Test,"testSizeStability, testResiliency","350, 348, 346, 324, 322, 310, 308, 293, 283","350, 348, 346, 324, 322, 310, 308, 293, 283",f97b579363c2e0fa75c079afbf57c053,2f598efc580a31b8796b5f5417a4e83e,"assertEquals(3,rc.size())|assertEquals(2,rc.size())|assertEquals(2,rc.size())|assertEquals(localMap.size(),rc.size())|System.out.println(""rcsizeis""+rc.size())|System.out.println(""localmapsizeis""+localMap.size())|intls=localMap.size(),rs=(int)directKv.get(bs(""tmp2/""))(int)(Math.random()*localMap.size()))|(int)(Math.random()*localMap.size()))|",67bbf66ab706d42aa23579743c2d52f9,b79512a31ad3c3be89fbb39219f1db8e
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Lazy Test,"testBasics, testStrongIterator","201, 111, 101","201, 111, 101",b47b32555295e4733935473cf702534a,e49dd6d41c668a1b91b87ab4ceb5ecad,"Iterator<KeyValue>it=rc.iterator(),sit=rc.strongIterator()|assertEquals(1,Iterators.size(rc.strongIterator()))|assertEquals(2,Iterators.size(rc.strongIterator()))|",5126e1f6b8e4ce5f55792267738e68a0,943ee5db0c197693cce291dc73ac0b64
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Lazy Test,"testOfflineCompact, testResiliency, testBasics, testOrdering","396, 380, 379, 378, 317, 308, 223, 217, 211, 195, 133","396, 380, 379, 378, 317, 308, 223, 217, 211, 195, 133",9b07ed24ec88552ed635c7c309f05f80,2bba6230f9d09a79af7852660c442ff4,"assertEquals(bs(""val2""),rc.get(bs(""tmp2/aftercompact"")).getValue())|KeyValuekv3=rc.get(bs(""tmp2/abc-9""))|KeyValuekv2=rc.get(bs(""tmp2/abc-8""))|KeyValuekv1=rc.get(bs(""tmp2/abc-7""))|rcClient.getKvClient().get(bs(""tmp2/""))intls=localMap.size(),rs=(int)directKv.get(bs(""tmp2/""))assertNull(rc.get(bs(""tmp/d"")))|assertEquals(bs(""valX""),rc.get(bs(""tmp/d"")).getValue())|assertEquals(bs(""val2""),rc.get(bs(""tmp/d"")).getValue())|assertEquals(bs(""val1""),rc.get(bs(""tmp/a"")).getValue())|List<KeyValue>directFromServer=kvc.get(px).asPrefix()",e4b602ababc0300f2ec3c8b607029960,cbfd84162e5d7fa58442377d7c8a2122
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Lazy Test,"testSizeStability, testBasics","347, 197","347, 197",9039274aad0abd1b602e3752fff30cc6,70b4bc007b2413326d3257ba45d2efd0,"assertNull(rc.getRemote(bs(""tmp3/key3"")))|assertEquals(bs(""val1""),rc.getRemote(bs(""tmp/a"")).getValue())|",29d4b7f0f1bee77646fc7ea8a4ca263d,069fe7838a82c3bc0c2ff9b99325ce0e
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Duplicate Assert,testStrongIterator,"99, 109","99, 109",b2c3fb411178be7cd426693e192e9bc0,4f17596a237d92ce2a0fec4701059d70,"assertEquals(0,Iterators.size(rc.iterator()))|assertEquals(0,Iterators.size(rc.iterator()))|",5e7ad5bdcc3c6c8fcf73db552e14104c,d9ba7168c10e2918b6d7df6a460a7a12
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Duplicate Assert,testSizeStability,"346, 348","346, 348",da51f59a0818ef1789d590a8ab4d0e3c,d54aaf1faa3f14e16b049de7cc09cf9d,"assertEquals(2,rc.size())|assertEquals(2,rc.size())|",cf1caa6c36e7a9c00dd20dcd3f02be09,2ba995f64d1ed304368c50a524244efb
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Duplicate Assert,testOfflineCompact,"360, 372","360, 372",137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,"assertTrue(rc.keyExists(bs(""tmp2/abc-0"")))|assertTrue(rc.keyExists(bs(""tmp2/abc-0"")))|",2bea91d47339fc44d74096b03028baea,5b3195829687dfa9b81c2c1f9a16839d
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Eager Test,testStrongIterator,"101, 105, 107, 109, 111, 89, 90, 92, 93, 95, 99","101, 105, 107, 109, 111, 89, 90, 92, 93, 95, 99",b2c3fb411178be7cd426693e192e9bc0,4f17596a237d92ce2a0fec4701059d70,"assertEquals(2,Iterators.size(rc.strongIterator()))|try(RangeCacherc2=newRangeCache(directClient,bs(""sit-test/""),false)){rc2.delete(bs(""sit-test/d""))|assertEquals(0,Iterators.size(rc.iterator()))|assertEquals(1,Iterators.size(rc.strongIterator()))|kvc.delete(bs(""sit-test/"")).asPrefix().sync()|kvc.delete(bs(""sit-test"")).sync()|kvc.put(bs(""sit-test/a""),bs(""val"")).sync()|kvc.put(bs(""sit-test/d""),bs(""val"")).sync()|try(RangeCacherc=newRangeCache(directClient,bs(""sit-test/""),false)){assertEquals(0,Iterators.size(rc.iterator()))|",8b3f3f9508cde57371195cf22d8df8cc,7e6929df45132fe570ff6ff6bde13714
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Eager Test,testOrdering,"122, 124, 125, 126, 127, 128, 129, 130, 131, 133","122, 124, 125, 126, 127, 128, 129, 130, 131, 133",487ffdc0af26b94f41115d0bb4a6e3ce,d06d6293fedfba8720e905e281031371,"kvc.delete(px).asPrefix().sync()|try(RangeCacherc=newRangeCache(client,px,true)){rc.put(px.concat(fromHexString(""ff"")),val)|rc.put(px.concat(fromHexString(""02"")),val)|rc.put(px.concat(fromHexString(""01"")),val)|rc.put(px.concat(fromHexString(""0100"")),val)|rc.put(px.concat(fromHexString(""00ff"")),val)|rc.put(px.concat(fromHexString(""0101ab"")),val)|rc.put(px.concat(plusOne(fromHexString(""01""))),val)|List<KeyValue>directFromServer=kvc.get(px).asPrefix()",b1eee11c038c2eec2810b83bb92720d9,968104dd87c6bcb8587786b58a90d52b
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Eager Test,testCompaction,"158, 160, 167, 168, 169","158, 160, 167, 168, 169",6734655e9923cdd81458dedd99b218a2,32faf103400344a1dedac6a1a1f4e762,"kvc.delete(k).sync()|PutResponsepr=kvc.put(k,n).sync()|try(RangeCacherc=newRangeCache(client,bs(""tmp/""),false)){rc.start().get(1L,TimeUnit.SECONDS)|noise.start()|",f925d57f9480daf66058188dda4bed26,e58c69fc8a42dfa124cd82857c207869
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Eager Test,testBasics,"179, 181, 183, 184, 185, 187, 189, 191, 193, 195, 197, 199, 201, 207, 211, 213, 217, 219, 223","179, 181, 183, 184, 185, 187, 189, 191, 193, 195, 197, 199, 201, 207, 211, 213, 217, 219, 223",09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,"kvc.delete(bs(""tmp/"")).asPrefix().sync()|try(RangeCacherc=newRangeCache(client,bs(""tmp/""),false)){PutResultpr=rc.put(bs(""tmp/a""),bs(""val1""),0L)|assertTrue(pr.succ())|assertEquals(bs(""val1""),pr.kv().getValue())|rc.start().get(1L,TimeUnit.SECONDS)|assertTrue(rc.delete(bs(""tmp/a"")))|assertFalse(rc.delete(bs(""tmp/c"")))|assertTrue(rc.put(bs(""tmp/a""),bs(""val1""),0L).succ())|assertEquals(bs(""val1""),rc.get(bs(""tmp/a"")).getValue())|assertEquals(bs(""val1""),rc.getRemote(bs(""tmp/a"")).getValue())|assertEquals(1,Iterators.size(rc.iterator()))|Iterator<KeyValue>it=rc.iterator(),sit=rc.strongIterator()|directKv.put(bs(""tmp/d""),bs(""val2"")).sync()|assertEquals(bs(""val2""),rc.get(bs(""tmp/d"")).getValue())|directKv.put(bs(""tmp/d""),bs(""valX"")).sync()|assertEquals(bs(""valX""),rc.get(bs(""tmp/d"")).getValue())|directKv.delete(bs(""tmp/d"")).sync()|assertNull(rc.get(bs(""tmp/d"")))|",801786d213e7dc7abd4b0c583253a81b,42ce04b7e4e20c0a3042fb911638f3a6
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Eager Test,testResiliency,"230, 234, 238, 266, 277, 278, 282, 283, 284, 292, 293, 294, 300, 301, 308, 310, 317, 322, 324","230, 234, 238, 266, 277, 278, 282, 283, 284, 292, 293, 294, 300, 301, 308, 310, 317, 322, 324",f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,"directClient.getKvClient().delete(bs(""tmp2/"")).asPrefix().sync()|RangeCacherc=newRangeCache(rcClient,bs(""tmp2/""),false)){rc.start().get(500,TimeUnit.MILLISECONDS)|proxyThread.start()|directKv.put(key,value).sync()|localMap.put(key,value)|ByteStringrandomKey=Iterables.get(localMap.keySet(),(int)(Math.random()*localMap.size()))|directKv.delete(randomKey).sync()|ByteStringrandomKey=Iterables.get(localMap.keySet(),(int)(Math.random()*localMap.size()))|batch.delete(directKv.delete(randomKey).asRequest())|batch.put(directKv.put(key,value).asRequest())|localMap.put(key,value)|intls=localMap.size(),rs=(int)directKv.get(bs(""tmp2/""))System.out.println(""localmapsizeis""+localMap.size())|rcClient.getKvClient().get(bs(""tmp2/""))System.out.println(""rcsizeis""+rc.size())|assertEquals(localMap.size(),rc.size())|",bdda6eea53f1ccf253f14b0f0d9b81d3,a07f009303d5d34905be09f780055dd5
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Eager Test,testSizeStability,"340, 342, 343, 344, 345, 346, 347, 348, 349, 350","340, 342, 343, 344, 345, 346, 347, 348, 349, 350",da51f59a0818ef1789d590a8ab4d0e3c,d54aaf1faa3f14e16b049de7cc09cf9d,"directClient.getKvClient().delete(bs(""tmp3/"")).asPrefix().sync()|try(RangeCacherc=newRangeCache(directClient,bs(""tmp3/""),false)){rc.start().get()|rc.put(bs(""tmp3/key1""),bs(""val1""))|rc.put(bs(""tmp3/key2""),bs(""val2""))|assertEquals(2,rc.size())|assertNull(rc.getRemote(bs(""tmp3/key3"")))|assertEquals(2,rc.size())|rc.put(bs(""tmp3/key3""),bs(""val3""))|assertEquals(3,rc.size())|",17970ff61e327463c3dc2380a68cf4cd,b1b40d45e2edb00a0ecd153a901d9ebb
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Eager Test,testOfflineCompact,"356, 357, 358, 360, 363, 365, 367, 368, 372, 374, 378, 379, 380, 381, 394, 396","356, 357, 358, 360, 363, 365, 367, 368, 372, 374, 378, 379, 380, 381, 394, 396",137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,"directKv.delete(bs(""tmp2/aftercompact"")).sync()|directKv.put(bs(""tmp2/abc-0""),bs(""def"")).sync()|directKv.delete(bs(""tmp2/abc-1"")).rangeEnd(bs(""tmp2/abc-9"")).sync()|assertTrue(rc.keyExists(bs(""tmp2/abc-0"")))|directKv.delete(bs(""tmp2/abc-0"")).sync()|directKv.put(bs(""tmp2/abc-""+i),bs(""def"")).sync()|longrev=directKv.put(bs(""tmp2/abc-8""),bs(""def"")).sync().getHeader().getRevision()|directKv.put(bs(""tmp2/abc-9""),bs(""def"")).sync()|assertTrue(rc.keyExists(bs(""tmp2/abc-0"")))|prox.start()|KeyValuekv1=rc.get(bs(""tmp2/abc-7""))|KeyValuekv2=rc.get(bs(""tmp2/abc-8""))|KeyValuekv3=rc.get(bs(""tmp2/abc-9""))|booleanexists=rc.keyExists(bs(""tmp2/abc-0""))|directKv.put(bs(""tmp2/aftercompact""),bs(""val2"")).sync()|assertEquals(bs(""val2""),rc.get(bs(""tmp2/aftercompact"")).getValue())|",042ed40b3186615a4bfefd7c4e782188,56811e4e942dbe5a4bd778427d469070
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testStrongIterator,99-99,99-99,b2c3fb411178be7cd426693e192e9bc0,4f17596a237d92ce2a0fec4701059d70,"assertEquals(0,Iterators.size(rc.iterator()))|",45daa71705a302e42a670db796be3405,fa994d8480bd01d23fc0d2a18dd29129
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testStrongIterator,101-101,101-101,b2c3fb411178be7cd426693e192e9bc0,4f17596a237d92ce2a0fec4701059d70,"assertEquals(2,Iterators.size(rc.strongIterator()))|",31b399a8ea040ae14496903e6cf505fc,8f9a5fe3a2ead7a8a37a9750645be633
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testStrongIterator,109-109,109-109,b2c3fb411178be7cd426693e192e9bc0,4f17596a237d92ce2a0fec4701059d70,"assertEquals(0,Iterators.size(rc.iterator()))|",45daa71705a302e42a670db796be3405,fa994d8480bd01d23fc0d2a18dd29129
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testStrongIterator,111-111,111-111,b2c3fb411178be7cd426693e192e9bc0,4f17596a237d92ce2a0fec4701059d70,"assertEquals(1,Iterators.size(rc.strongIterator()))|",be57baf735d92249aa3c9950fb7553ad,775e1327de1694f5092a842a76734b41
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testOrdering,141-141,141-141,487ffdc0af26b94f41115d0bb4a6e3ce,d06d6293fedfba8720e905e281031371,"assertTrue(Iterables.elementsEqual(rc,directFromServer))|",520ab7a32b444ffecab78b6fe573e8d0,572f66abb285f89976b29cc41f69c9f1
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testBasics,184-184,184-184,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,assertTrue(pr.succ())|,48ca3ae5f4eaacb2c412a3a934673a0a,cedaa0d7622f8e8463301b216dcf6682
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testBasics,185-185,185-185,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,"assertEquals(bs(""val1""),pr.kv().getValue())|",6884b311b37fcc0a7340785916cb4c08,123511b58ae91d9d969116d21136e899
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testBasics,189-189,189-189,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,"assertTrue(rc.delete(bs(""tmp/a"")))|",bb4d09d5f8717cd5e1b27a7ec2cc8a3c,18c9116b2be736b2ab3618bbec14ecfb
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testBasics,191-191,191-191,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,"assertFalse(rc.delete(bs(""tmp/c"")))|",dc0eefbc8ca6f7c684a109a5a4e8e2be,cdcb19f99549f34f530f8c5400720195
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testBasics,193-193,193-193,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,"assertTrue(rc.put(bs(""tmp/a""),bs(""val1""),0L).succ())|",00a8f70b43a86f8f52269fd26ff63905,42785a2ad95611115d5b52320c3a2982
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testBasics,195-195,195-195,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,"assertEquals(bs(""val1""),rc.get(bs(""tmp/a"")).getValue())|",13da382671adb585b6a19cc04032494a,33d256f6a418c17b7c33d1dabc38271c
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testBasics,197-197,197-197,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,"assertEquals(bs(""val1""),rc.getRemote(bs(""tmp/a"")).getValue())|",98fdad93b290ebe7e123a49b9f44fa69,d46b9cdc6959868bd7a13e2c39e0ee0e
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testBasics,199-199,199-199,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,"assertEquals(1,Iterators.size(rc.iterator()))|",85e88e161a23897b8650c17e6d178462,b9b9c911c8810a13adec577a84fe301e
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testBasics,203-203,203-203,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,"assertTrue(Iterators.elementsEqual(it,sit))|",b5444a165fa0d8f8fd22a606335ade3e,52d799e2f6fdddfae1f8f09789082b99
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testBasics,211-211,211-211,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,"assertEquals(bs(""val2""),rc.get(bs(""tmp/d"")).getValue())|",d143a8f6beec5c8f36c6fd41cebd86fe,ca483d8f84284c31a922bbda6eff6e5a
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testBasics,217-217,217-217,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,"assertEquals(bs(""valX""),rc.get(bs(""tmp/d"")).getValue())|",296aae16cd1fcff0b27a88fd30bdf258,367e58ff8d3a130e0a03f2e2df958b21
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testBasics,223-223,223-223,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,"assertNull(rc.get(bs(""tmp/d"")))|",c36642fbe50de0cdaa87761f65b95529,fea13def9213d9b16945d4bad5338b70
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testResiliency,314-314,314-314,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,"assertEquals(ls,rs)|",e17d74e928709fabcb4701c46867f781,12d24e237b87f5633644d9188370cd5a
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testResiliency,324-324,324-324,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,"assertEquals(localMap.size(),rc.size())|",3fc78d27731180ca3b6b7390854f38e5,bc224f3d3fd98684be2164de79c77f77
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testResiliency,327-328,327-328,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,"assertEquals(localMap.entrySet(),Sets.newHashSet(Iterables.transform(rc,kv->Maps.immutableEntry(kv.getKey(),kv.getValue()))))|",cbe268f3e3eeecde25b13ad144ac6f9c,680663db7f7f0be47948f9e876343286
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testSizeStability,346-346,346-346,da51f59a0818ef1789d590a8ab4d0e3c,d54aaf1faa3f14e16b049de7cc09cf9d,"assertEquals(2,rc.size())|",21c5d31e3c40f40bd095764c44b50584,1035e32e214081e2a9ee5b3161f9b239
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testSizeStability,347-347,347-347,da51f59a0818ef1789d590a8ab4d0e3c,d54aaf1faa3f14e16b049de7cc09cf9d,"assertNull(rc.getRemote(bs(""tmp3/key3"")))|",55ca2e9c66bd43de441354d0accbae7e,6bac4f639e1c30db7eb55eb29cd149fd
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testSizeStability,348-348,348-348,da51f59a0818ef1789d590a8ab4d0e3c,d54aaf1faa3f14e16b049de7cc09cf9d,"assertEquals(2,rc.size())|",21c5d31e3c40f40bd095764c44b50584,1035e32e214081e2a9ee5b3161f9b239
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testSizeStability,350-350,350-350,da51f59a0818ef1789d590a8ab4d0e3c,d54aaf1faa3f14e16b049de7cc09cf9d,"assertEquals(3,rc.size())|",8573a574fa8d7ccf3d012a752468bf36,98674746ebf18e77b36307c95126ceb0
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testOfflineCompact,360-360,360-360,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,"assertTrue(rc.keyExists(bs(""tmp2/abc-0"")))|",472f50a4d4666f21ce12d387678d0f1b,a516f0ddde0367e73e41345f1893367f
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testOfflineCompact,372-372,372-372,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,"assertTrue(rc.keyExists(bs(""tmp2/abc-0"")))|",472f50a4d4666f21ce12d387678d0f1b,a516f0ddde0367e73e41345f1893367f
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testOfflineCompact,388-388,388-388,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,"assertEquals(bs(""def""),kv1.getValue())|",3c6cf7e4cb7d25e6ea7520faeb9ae145,be0aa8f4697efc96e8b5007d57985863
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testOfflineCompact,389-389,389-389,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,"assertEquals(bs(""def""),kv2.getValue())|",c72254c373eea95555d213fd04f3fcc0,8de1db0caa70a4f4f887e843aacd881e
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testOfflineCompact,390-390,390-390,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,"assertEquals(bs(""def""),kv3.getValue())|",aaa313ed57681164ef042102c9d51779,f6b1af7ca9cd00fcb3fe128ac1bd0f0f
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Assertion Roulette,testOfflineCompact,396-396,396-396,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,"assertEquals(bs(""val2""),rc.get(bs(""tmp2/aftercompact"")).getValue())|",15eb1a141dbd8dfedf0ca1a4c19e2776,328537f7dda86133d3441d75007641d4
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Conditional Test Logic,testCompaction,161-163,161-163,6734655e9923cdd81458dedd99b218a2,32faf103400344a1dedac6a1a1f4e762,"if(i==500){kvc.compact(pr.getHeader().getRevision(),false)|}",7d22bb21d040beecd4b0065f8c78de42,bb4b672fd39100b00e6419ff3498032e
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Conditional Test Logic,testCompaction,157-164,157-164,6734655e9923cdd81458dedd99b218a2,32faf103400344a1dedac6a1a1f4e762,"for(inti=0|i<1000|i++){kvc.delete(k).sync()|k=n.concat(bs(""""+i))|PutResponsepr=kvc.put(k,n).sync()|if(i==500){kvc.compact(pr.getHeader().getRevision(),false)|}}",4e1cd4abd63135c5cdff4b3e45c0136b,2aaef101a93e25d61be5739a0ee7af3c
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Conditional Test Logic,testResiliency,279-287,279-287,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,"if(i>5&&!localMap.isEmpty()){//deleteakeyThread.sleep((long)(Math.random()*100))|ByteStringrandomKey=Iterables.get(localMap.keySet(),(int)(Math.random()*localMap.size()))|directKv.delete(randomKey).sync()|localMap.remove(randomKey)|Thread.sleep((long)(Math.random()*100))|}",ea6334604254f3bd082b5e56efb95cf2,6f203eeedf3737e8a3275a1483ac4ded
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Conditional Test Logic,testResiliency,291-296,291-296,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,"if(!localMap.isEmpty()){ByteStringrandomKey=Iterables.get(localMap.keySet(),(int)(Math.random()*localMap.size()))|batch.delete(directKv.delete(randomKey).asRequest())|localMap.remove(randomKey)|}",dfcb322416205f5dc3c6c0774d5ac3e8,5063a93335c3464f86061d63ed50724a
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Conditional Test Logic,testResiliency,297-302,297-302,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,"for(intj=0|j<3|j++){key=bs(""tmp2/""+Math.random())|value=bs(""value""+(i++))|batch.put(directKv.put(key,value).asRequest())|localMap.put(key,value)|}",a5f7c8905b97b84132e1b8e09b92d2e9,4970e706fbc838447fb6f1345111faf9
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Conditional Test Logic,testResiliency,288-305,288-305,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,"if(i>3){//performbatchupdate(3puts,1delete)FluentTxnOps<?>batch=directKv.batch()|if(!localMap.isEmpty()){ByteStringrandomKey=Iterables.get(localMap.keySet(),(int)(Math.random()*localMap.size()))|batch.delete(directKv.delete(randomKey).asRequest())|localMap.remove(randomKey)|}for(intj=0|j<3|j++){key=bs(""tmp2/""+Math.random())|value=bs(""value""+(i++))|batch.put(directKv.put(key,value).asRequest())|localMap.put(key,value)|}batch.sync()|//commitbatchtxnThread.sleep((long)(Math.random()*100))|}",b8db678d9034402b3e6a95142711cbe0,4109cab9c9cd860443f4bdbb160ed770
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Conditional Test Logic,testResiliency,273-306,273-306,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,"while(proxyThread.isAlive()){//putakeyByteStringkey=bs(""tmp2/""+Math.random())|ByteStringvalue=bs(""value""+(i++))|directKv.put(key,value).sync()|localMap.put(key,value)|if(i>5&&!localMap.isEmpty()){//deleteakeyThread.sleep((long)(Math.random()*100))|ByteStringrandomKey=Iterables.get(localMap.keySet(),(int)(Math.random()*localMap.size()))|directKv.delete(randomKey).sync()|localMap.remove(randomKey)|Thread.sleep((long)(Math.random()*100))|}if(i>3){//performbatchupdate(3puts,1delete)FluentTxnOps<?>batch=directKv.batch()|if(!localMap.isEmpty()){ByteStringrandomKey=Iterables.get(localMap.keySet(),(int)(Math.random()*localMap.size()))|batch.delete(directKv.delete(randomKey).asRequest())|localMap.remove(randomKey)|}for(intj=0|j<3|j++){key=bs(""tmp2/""+Math.random())|value=bs(""value""+(i++))|batch.put(directKv.put(key,value).asRequest())|localMap.put(key,value)|}batch.sync()|//commitbatchtxnThread.sleep((long)(Math.random()*100))|}}",b984f148a901efbdbc17a790e8ed4492,00b9957f15f8be3af1bebbe4cbb0c508
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Conditional Test Logic,testOfflineCompact,364-366,364-366,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,"for(i=1|i<8|i++){directKv.put(bs(""tmp2/abc-""+i),bs(""def"")).sync()|}",5ad0b88864a45fd4ee0f339e8fa419b7,746bf95dcd452259abc9b99795fe038a
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Conditional Test Logic,testOfflineCompact,383-385,383-385,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,"if(i==20){fail(""Cachedidnotcatchup"")|}",2c98aa59f9a876474e40f5123303e0ab,f7147050d66ab2dce6e7d876d8053f5e
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Conditional Test Logic,testOfflineCompact,382-387,382-387,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,"if(kv1==null||kv2==null||kv3==null||exists){if(i==20){fail(""Cachedidnotcatchup"")|}continue|}",08a46af16d30ed57185ed5ba955182ab,4b07d0f131395e90526cbed3aecf7e7a
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Conditional Test Logic,testOfflineCompact,376-392,376-392,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,"for(i=1|i<=20|i++){Thread.sleep(1000L)|KeyValuekv1=rc.get(bs(""tmp2/abc-7""))|KeyValuekv2=rc.get(bs(""tmp2/abc-8""))|KeyValuekv3=rc.get(bs(""tmp2/abc-9""))|booleanexists=rc.keyExists(bs(""tmp2/abc-0""))|if(kv1==null||kv2==null||kv3==null||exists){if(i==20){fail(""Cachedidnotcatchup"")|}continue|}assertEquals(bs(""def""),kv1.getValue())|assertEquals(bs(""def""),kv2.getValue())|assertEquals(bs(""def""),kv3.getValue())|break|}",88eefce4462f89f5668ec302cabca7d2,153ac342450d4e7b50e0bc7e64286126
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,EmptyTest,testListeners,399-402,399-402,c5cfa596d0b93991a6fa9fe4200a7de0,fe5ebcd4b3fba0f7582bf04787afc8d7,@TestpublicvoidtestListeners(){//TODO},285787e2d2aedebd3f318e40c928a054,3ed2f13ca748833d1f395dcd387840c3
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Exception Catching Throwing,testStrongIterator,95-115,95-115,b2c3fb411178be7cd426693e192e9bc0,4f17596a237d92ce2a0fec4701059d70,"try(RangeCacherc=newRangeCache(directClient,bs(""sit-test/""),false)){//NOTEfirstRangeCachehasNOTbeenstartedassertEquals(0,Iterators.size(rc.iterator()))|assertEquals(2,Iterators.size(rc.strongIterator()))|//assertEquals(2,Iterators.size(rc.iterator()))|try(RangeCacherc2=newRangeCache(directClient,bs(""sit-test/""),false)){rc2.delete(bs(""sit-test/d""))|assertEquals(0,Iterators.size(rc.iterator()))|assertEquals(1,Iterators.size(rc.strongIterator()))|//assertEquals(1,Iterators.size(rc.iterator()))|}}",6e95543e6433a989bb2e3561a23e4522,b68eb2f4a01b69b6709209edcc6ad148
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Exception Catching Throwing,testOrdering,124-142,124-142,487ffdc0af26b94f41115d0bb4a6e3ce,d06d6293fedfba8720e905e281031371,"try(RangeCacherc=newRangeCache(client,px,true)){rc.put(px.concat(fromHexString(""ff"")),val)|rc.put(px.concat(fromHexString(""02"")),val)|rc.put(px.concat(fromHexString(""01"")),val)|rc.put(px.concat(fromHexString(""0100"")),val)|rc.put(px.concat(fromHexString(""00ff"")),val)|rc.put(px.concat(fromHexString(""0101ab"")),val)|rc.put(px.concat(plusOne(fromHexString(""01""))),val)|List<KeyValue>directFromServer=kvc.get(px).asPrefix().sorted(SortTarget.KEY,SortOrder.ASCEND).sync().getKvsList()|printKeys(directFromServer)|printKeys(rc)|System.out.println(""--------"")|assertTrue(Iterables.elementsEqual(rc,directFromServer))|}",62f936c1be44a639d7aedfd7f35ad7cc,a6bd22e100af373ab6bbb52ec3449f74
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Exception Catching Throwing,testCompaction,167-171,167-171,6734655e9923cdd81458dedd99b218a2,32faf103400344a1dedac6a1a1f4e762,"try(RangeCacherc=newRangeCache(client,bs(""tmp/""),false)){rc.start().get(1L,TimeUnit.SECONDS)|noise.start()|noise.join()|}",5f82960728edc51ed5752d38759ef608,388ac1adfd8ce03aa6fad7c484bbc82a
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Exception Catching Throwing,testBasics,181-224,181-224,09d0a856b7a59f7c14cd471c2d36dd14,39e758458b0139efa9298d12bc74108c,"try(RangeCacherc=newRangeCache(client,bs(""tmp/""),false)){PutResultpr=rc.put(bs(""tmp/a""),bs(""val1""),0L)|assertTrue(pr.succ())|assertEquals(bs(""val1""),pr.kv().getValue())|rc.start().get(1L,TimeUnit.SECONDS)|assertTrue(rc.delete(bs(""tmp/a"")))|assertFalse(rc.delete(bs(""tmp/c"")))|assertTrue(rc.put(bs(""tmp/a""),bs(""val1""),0L).succ())|assertEquals(bs(""val1""),rc.get(bs(""tmp/a"")).getValue())|assertEquals(bs(""val1""),rc.getRemote(bs(""tmp/a"")).getValue())|assertEquals(1,Iterators.size(rc.iterator()))|Iterator<KeyValue>it=rc.iterator(),sit=rc.strongIterator()|assertTrue(Iterators.elementsEqual(it,sit))|KvClientdirectKv=directClient.getKvClient()|directKv.put(bs(""tmp/d""),bs(""val2"")).sync()|Thread.sleep(80L)|assertEquals(bs(""val2""),rc.get(bs(""tmp/d"")).getValue())|directKv.put(bs(""tmp/d""),bs(""valX"")).sync()|Thread.sleep(80L)|assertEquals(bs(""valX""),rc.get(bs(""tmp/d"")).getValue())|directKv.delete(bs(""tmp/d"")).sync()|Thread.sleep(80L)|assertNull(rc.get(bs(""tmp/d"")))|}",5923fa8b1d481a1ad157408f0ca64742,79a0e542b1446f79c71fe6d0d512bba4
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Exception Catching Throwing,testResiliency,232-334,232-334,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,"try(EtcdClientrcClient=EtcdClient.forEndpoint(""localhost"",2395).withPlainText().build()|RangeCacherc=newRangeCache(rcClient,bs(""tmp2/""),false)){try{//thiswon'tfinishstartingbecauseit'snotconnectedrc.start().get(500,TimeUnit.MILLISECONDS)|}catch(TimeoutExceptionte){//ok}Map<ByteString,ByteString>localMap=newHashMap<>()|try(finalLocalNettyProxyprox=newLocalNettyProxy(2395)){ThreadproxyThread=newThread(){{setDaemon(true)|}@Overridepublicvoidrun(){try{intN=6|for(inti=1|i<=N|i++){prox.start()|Thread.sleep(1000L+(long)(Math.random()*5000))|if(i<N){System.out.println(""killingproxy""+i)|prox.kill()|//finishinrunningstate}Thread.sleep((long)(Math.random()*4000))|}}catch(Exceptione){e.printStackTrace()|}}}|proxyThread.start()|KvClientdirectKv=directClient.getKvClient()|inti=0|//performabunchofdirectupdatestoetcdwhile//theproxyisstopped/startedwhile(proxyThread.isAlive()){//putakeyByteStringkey=bs(""tmp2/""+Math.random())|ByteStringvalue=bs(""value""+(i++))|directKv.put(key,value).sync()|localMap.put(key,value)|if(i>5&&!localMap.isEmpty()){//deleteakeyThread.sleep((long)(Math.random()*100))|ByteStringrandomKey=Iterables.get(localMap.keySet(),(int)(Math.random()*localMap.size()))|directKv.delete(randomKey).sync()|localMap.remove(randomKey)|Thread.sleep((long)(Math.random()*100))|}if(i>3){//performbatchupdate(3puts,1delete)FluentTxnOps<?>batch=directKv.batch()|if(!localMap.isEmpty()){ByteStringrandomKey=Iterables.get(localMap.keySet(),(int)(Math.random()*localMap.size()))|batch.delete(directKv.delete(randomKey).asRequest())|localMap.remove(randomKey)|}for(intj=0|j<3|j++){key=bs(""tmp2/""+Math.random())|value=bs(""value""+(i++))|batch.put(directKv.put(key,value).asRequest())|localMap.put(key,value)|}batch.sync()|//commitbatchtxnThread.sleep((long)(Math.random()*100))|}}intls=localMap.size(),rs=(int)directKv.get(bs(""tmp2/"")).asPrefix().countOnly().sync().getCount()|System.out.println(""localmapsizeis""+localMap.size())|System.out.println(""remotesizeis""+rs)|assertEquals(ls,rs)|//waituntilconnectedandtocatchuprcClient.getKvClient().get(bs(""tmp2/"")).deadline(Deadline.after(20,TimeUnit.SECONDS)).backoffRetry().sync()|Thread.sleep(6_000L)|System.out.println(""rcsizeis""+rc.size())|assertEquals(localMap.size(),rc.size())|//checkcontentsofcache==contentsoflocalmapassertEquals(localMap.entrySet(),Sets.newHashSet(Iterables.transform(rc,kv->Maps.immutableEntry(kv.getKey(),kv.getValue()))))|testOfflineCompact(directKv,rc,prox)|//TestcompactrecoverytwicetestOfflineCompact(directKv,rc,prox)|}}",4acf10619fd1fd65707b09ee1597634e,ee45ee4cbf241708d0655d59e410930c
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Exception Catching Throwing,testSizeStability,342-351,342-351,da51f59a0818ef1789d590a8ab4d0e3c,d54aaf1faa3f14e16b049de7cc09cf9d,"try(RangeCacherc=newRangeCache(directClient,bs(""tmp3/""),false)){rc.start().get()|rc.put(bs(""tmp3/key1""),bs(""val1""))|rc.put(bs(""tmp3/key2""),bs(""val2""))|assertEquals(2,rc.size())|assertNull(rc.getRemote(bs(""tmp3/key3"")))|assertEquals(2,rc.size())|rc.put(bs(""tmp3/key3""),bs(""val3""))|assertEquals(3,rc.size())|}",85c6b563d3e86d37d2bc20c5eebeee6d,e67cc25cf7215b977339c807e75675e0
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Print Statement,testOrdering,139,139,487ffdc0af26b94f41115d0bb4a6e3ce,d06d6293fedfba8720e905e281031371,,,
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Print Statement,testResiliency,310,310,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,,,
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Print Statement,testResiliency,312,312,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,,,
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Print Statement,testResiliency,322,322,f3ac9e686fe4924b95745672b5f05fd4,adca172aa91d08fb4ed622e1675832b5,,,
etcd-java,RangeCacheTest,etcd-java/src/test/java/com/ibm/etcd/client/utils/RangeCacheTest.java,etcd-java/src/main/java/com/ibm/etcd/client/utils/RangeCache.java,JUnit4,408,14,Print Statement,testOfflineCompact,373,373,137acabdc9afba151f2afc08ce42dea5,f3c9339d7b2b8b6aba0c37998cf0f8d4,,,